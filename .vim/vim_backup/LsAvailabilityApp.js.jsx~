define("react", function(React){
  var LsAvailabilityApp = {
    makePrimaryButton: function() {
      if(this.state.loading === true) { return; }
      var disabled = !this.isFillQuery();
      if(this.isUnknown()) {
        var url = "#";
        if(!disabled)
          url = this.props.properties.bookingRequestsUri + "?" + this.makeQuery();
        return (
          <div>
          <a href={url}  disabled={disabled} className="btn btn-primary btn-block btn-large">空室状況を問い合わせる</a>
          <div className="mt1 tx-gray-light tx0-9">
          入力した日時の空室状況をワンクリックでお問い合わせできます。
          </div>
          </div>
        );
      }
      var calendarUrl = this.props.properties.calendarUri + "?" + this.makeQuery();
      calendarUrl += "&lsform=" + this.props.properties.id;
      if(this.isUnavailable()) {
        var url = this.props.properties.otherListingsUri + "?" + this.makeQuery();
        return (
          <div>
          <a href={url} className="btn btn-block btn-large">他のスペースを見る</a>
          <div className="mt1 tx-gray-light tx0-9">
          入力した日時で使えるスペースをご覧頂けます。
          </div>
          <a href={calendarUrl} className="btn btn-primary btn-block btn-large">空室カレンダーを見る</a>
          </div>
        );
      }
      var url = "#";
      if(!disabled)
        url = this.props.properties.prebookingUri + "?" + this.makeQuery();
      return (
        <div>
        <a href={url} disabled={disabled} className="btn btn-success btn-block btn-large">予約する</a>
        <div className="al-c btn-block" onClick={this.onClickCalendarLink.bind(this)}>
        <a href={calendarUrl}>空室カレンダーを見る</a>
        </div>
        </div>
      );
     }   
  }
})
