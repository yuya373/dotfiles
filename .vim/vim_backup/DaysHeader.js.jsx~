/** @jsx React.DOM*/

define(["react", "components/mixins/DatetimeHelper"], function(React, DatetimeHelper) {
  var DaysHeader;
  return DaysHeader = React.createClass({
    getInitialState: function() {
      return {
        "days": this.props.days
      };
    },
    weekDidChange: function(days) {
      console.log("DaysHeader weekDidChange");
      this.setState({"days":days});
    },
    renderDayLabel: function (day, index) {
      var content = (day) ? DatetimeHelper.dateIntToLabel(day.date) : "",
      wday    = (day) ? DatetimeHelper.wdayToShortLabel(day.wday) : "",
      css     = "cell-day th-day-label";
      if(day.is_holiday) { css += " holiday-label"; }
      return <th key={index} className={css}>{content} ({wday})</th>;
    },
    render: function() {
      return (
        <tr key="thead1">
          <th className="cell-margin th-day-label"></th>
          {this.state.days.map(this.renderDayLabel)}
        </tr>
      );
    }
  });
});
