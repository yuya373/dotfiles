# vim: ft=tmux
set-option -g status on
set-option -g status-interval 2
set-option -g status-utf8 on
set-option -g status-justify "left"
set-option -g status-left-length 200
set-option -g status-right-length 200
set-option -g status-left "#(~/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/tmux-powerline/powerline.sh right)"

unbind -n C-p
#256色対応
set -g default-terminal "xterm-256color"
set -g terminal-overrides "term:colors=256"
set -g display-time 2000


# vim上でのコピペ問題
set-option -g default-command "reattach-to-user-namespace -l zsh"

# Prefix
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# エスケープ短く
set -sg escape-time 0

# ソースのリロード
bind C-r source-file ~/.tmux.conf \; display "Reloaded!!"


# 水平分割、垂直分割
bind C-v split-window -h -c "#{pane_current_path}"
bind C-s split-window -v -c "#{pane_current_path}"

# ペイン移動
bind C-h select-pane -L
bind C-j select-pane -D
bind C-k select-pane -U
bind C-l select-pane -R

# ペインリサイズ
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
bind -r C-c break-pane

# 新規window
set-option -g base-index 1
bind C-n new-window -c "#{pane_current_path}"
set-option -g renumber-windows on

# window移動
bind -r C-] select-window -t :+
bind -r C-[ select-window -t :-

bind C-w choose-window
bind C-e choose-session

#ウィンドウを実行コマンド名で自動リネーム
# set-window-option -g automatic-rename on

#スクロールモード、コピーモード、選択モードで vi のキーバインドを使う
set-window-option -g mode-keys vi

# これで<prefix> [でコピーモードに入った時に、vで選択を開始しyもしくはEnterで選択範囲をコピーできるようになる。]
# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace -l zsh"
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
# bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace -l zsh"
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

set -g set-titles on
set -g set-titles-string '#30(whoami)@#H:#30(pwd)'


## ウィンドウマネージャ向けのタイトル
set-option -g set-titles on
set-option -g set-titles-string "[tmux]#T \"#W\"(#I/#P) @ #H"

#マウスでスクロール
set-window-option -g mode-mouse on

# 日本語環境なら必須？？
set-window-option -g utf8 on

# status
# set -g status-interval 10

# #### COLOUR (Solarized light)
#
# # default statusbar colors
# set-option -g status-bg colour254 #base2
# set-option -g status-fg colour241 #base00
# set-option -g status-attr default
#
# # default window title colors
# set-window-option -g window-status-fg colour241 #base00
# set-window-option -g window-status-bg default
# set-window-option -g window-status-attr dim
#
# # active window title colors
# set-window-option -g window-status-current-fg colour166 #orange
# set-window-option -g window-status-current-bg default
# set-window-option -g window-status-current-attr bright
#
# # pane border
# set-option -g pane-border-fg colour254 #base2
# set-option -g pane-active-border-fg colour245 #base1
#
# # message text
# set-option -g message-bg colour254 #base2
# set-option -g message-fg colour166 #orange
#
# # pane number display
# set-option -g display-panes-active-colour colour33 #blue
# set-option -g display-panes-colour colour166 #orange
#
# # clock
# set-window-option -g clock-mode-colour colour64 #green

#### COLOUR (Solarized dark)

# default statusbar colors
set-option -g status-bg colour235 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg colour244 #base0
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg colour235 #base02
set-option -g pane-active-border-fg colour240 #base01

# message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# # clock
set-window-option -g clock-mode-colour colour64 #green
